@using HabitsApp.Client.Services.Contracts;
@using HabitsApp.Shared.Entities;

<RadzenCard Style="width: 20vw;" Visible=@AddActivityDialogVisible>
    <RadzenText TextStyle="TextStyle.H5" Style="text-align: center">
        New Activity
    </RadzenText>
    <RadzenTemplateForm TItem=ActivityDto Data=NewActivityDto Submit=SaveActivity >
        <RadzenDropDown Data=@Categories
                        TValue="string"
                        Change=OnChangeCategory
                        TextProperty="Name"
                        Style="width: 100%"
                        ValueProperty="Name"
                        Placeholder="Select Category"
                        class="my-2"/>

        <RadzenTextBox @bind-Value=NewActivityDto.Name
                        Placeholder="Enter new Activity"
                        Style="width: 100%"
                        Name="ActivityName" />

        <RadzenRequiredValidator Component="ActivityName"
                                    Text="Activity name is required"
                                    Popup=true
                                    Style="position: absolute"
                                    @ref="ActivityNameValidator" />

        <div style="text-align: center; margin: 2vw 0 1vw 0">
            <RadzenButton ButtonType="ButtonType.Submit"
                          Icon="check" ButtonStyle="ButtonStyle.Success"
                          Variant="Variant.Flat"
                          Size="ButtonSize.Medium"
                          Disabled=SaveBtnDisabled />

            <RadzenButton Icon="close"
                          ButtonStyle="ButtonStyle.Light"
                          Variant="Variant.Flat"
                          Size="ButtonSize.Medium"
                          class="my-1 ms-1"
                          Click=CancelAddActivity />
        </div>      
    </RadzenTemplateForm>

    

</RadzenCard>
